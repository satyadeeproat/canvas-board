(this["webpackJsonpcanvas-board"]=this["webpackJsonpcanvas-board"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(7),o=n.n(a),i=(n(14),n(3)),s=(n(15),n(2)),l={TOOL_PEN:{name:"pen",icon:s.c},TOOL_HIGHLIGHTER:{name:"highlighter",icon:s.b},TOOL_ERASER:{name:"eraser",icon:s.a}},u=[l.TOOL_PEN,l.TOOL_HIGHLIGHTER,l.TOOL_ERASER],f=n(8),v=function(e){var t=e.activeTool,n=e.setActiveTool;return r.a.createElement("div",{className:"group tools"},u.map((function(e,c){return r.a.createElement("div",{key:c,className:"item ".concat(t===c?"active":""),onClick:function(){return n(c)}},r.a.createElement(f.a,{icon:e.icon,color:"white"}))})))},m=[1,3,5,7,9],d=function(e){var t=e.activeStroke,n=e.setActiveStroke;return r.a.createElement("div",{className:"group stroks"},m.map((function(e,c){return r.a.createElement("div",{key:c,onClick:function(){return n(c)},className:"item ".concat(t===c?"active":"")},r.a.createElement("div",{className:"stroke stroke-".concat(c)}))})))},h=function(e){var t=e.activeStroke,n=e.setActiveStroke,c=e.activeTool,a=e.setActiveTool;return r.a.createElement("div",{className:"toolbox left"},r.a.createElement(v,{activeTool:c,setActiveTool:a}),r.a.createElement(d,{activeStroke:t,setActiveStroke:n}))},E=["#ffffff","#000000","#ff0000","#00ff00","#0000ff","#00ffff","#ff00ff","#ffff00","#c46f0f","#fd8f27","#0099ff","#ff009d"],O=function(e){var t=e.activeColor,n=e.setActiveColor;return r.a.createElement("div",{className:"toolbox right"},r.a.createElement("div",{className:"group colors"},E.map((function(e,c){return r.a.createElement("div",{key:c,onClick:function(){return n(c)},className:"item ".concat(t===c?"active":""),"data-color":e},r.a.createElement("div",{className:"swatch",style:{backgroundColor:"".concat(e)}}))}))))},w=r.a.forwardRef((function(e,t){var n=e.startDrawing,c=e.finishDrawing,a=e.draw;return r.a.createElement("div",{className:"canvas-box"},r.a.createElement("canvas",{width:500,height:500,ref:t,onMouseDown:n,onMouseUp:c,onMouseMove:a}))}));var b=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),n=Object(c.useRef)({x:0,y:0}),a=Object(c.useState)(!1),o=Object(i.a)(a,2),s=o[0],f=o[1],v=Object(c.useState)(1),d=Object(i.a)(v,2),b=d[0],k=d[1],T=Object(c.useState)(0),g=Object(i.a)(T,2),p=g[0],S=g[1],A=Object(c.useState)(0),R=Object(i.a)(A,2),j=R[0],y=R[1];return Object(c.useEffect)((function(){var n=e.current;n.width=2*window.innerWidth,n.height=2*window.innerHeight,n.style.width="".concat(window.innerWidth,"px"),n.style.height="".concat(window.innerHeight,"px"),n.style.touchAction="none";var c=n.getContext("2d");c.scale(2,2),c.strokeStyle=E[0],t.current=c,t.current.lineWidth=m[2]}),[]),Object(c.useEffect)((function(){t.current.lineWidth=m[j]}),[j]),Object(c.useEffect)((function(){t.current.strokeStyle=E[b]}),[b]),Object(c.useEffect)((function(){switch(u[p].name){case l.TOOL_HIGHLIGHTER.name:y(2)}}),[p]),r.a.createElement("div",{className:"App"},r.a.createElement(h,{activeStroke:j,setActiveStroke:y,activeTool:p,setActiveTool:S}),r.a.createElement(w,{ref:e,startDrawing:function(e){var c=e.nativeEvent,r=c.offsetX,a=c.offsetY;switch(u[p].name){case l.TOOL_PEN.name:t.current.beginPath(),t.current.moveTo(r,a);break;case l.TOOL_HIGHLIGHTER.name:t.current.globalAlpha=.5,n.current.x=r,n.current.y=a;break;case l.TOOL_ERASER.name:t.current.clearRect(0,0,t.current.lineWidth,t.current.lineWidth)}f(!0)},finishDrawing:function(){t.current.closePath(),f(!1)},draw:function(e){var c=e.nativeEvent;if(s){var r=c.offsetX,a=c.offsetY;r<=500&&a<=500&&("eraser"===u[p].name?t.current.clearRect(r,a,t.current.lineWidth,t.current.lineWidth):"pen"===u[p].name?(t.current.lineTo(r,a),t.current.stroke()):(t.current.beginPath(),t.current.moveTo(n.current.x,n.current.y),t.current.lineTo(r,a),t.current.stroke(),n.current.x=r,n.current.y=a))}}}),r.a.createElement(O,{activeColor:b,setActiveColor:k}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(21)}},[[9,1,2]]]);
//# sourceMappingURL=main.6953f750.chunk.js.map